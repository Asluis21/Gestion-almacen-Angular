<div class="row">
    <h3>Ordenes realizadas</h3>

    
    <div class="col-12 mb-3">
        <hr>
        <label for="tipo-orden">Seleccionar orden</label>
        <select name="tipo-orden" id="tipo-orden" class="form-select" (change)="changeTipoOrden($event)">
            <option value="entrada" selected>Orden Entrada</option>
            <option value="salida">Orden Salida</option>
        </select>
    </div>
    

    
    <h4>Filtra por fecha</h4>
    <form>
        <div class="row">
            <div class="col-12 col-md-6 mb-3">
                <label for="fecha-inicio" class="form-label">Fecha inicio</label>
                <input class="form-control" type="date" name="fecha-inicio" id="fecha-inicio" [(ngModel)]="fechaInicio">
            </div>
            
            <div class="col-12 col-md-6 mb-3">
                <label for="fecha-fin" class="form-label">Fecha fin</label>
                <input class="form-control" type="date" name="fecha-fin" id="fecha-fin" [(ngModel)]="fechaFin">
            </div>
    
            
            <div class="d-flex justify-content-between flex-column flex-md-row gap-2">
                <div class="col-12 col-md-2">
                    <button class="btn btn-primary w-100" (click)="filtrarFecha()">Buscar</button>
                </div>
                
                <div class="col-12 col-md-2">
                    <button class="btn btn-primary w-100" (click)="resetearFiltro()">Limpiar filtro</button>
                </div>
            </div>
        </div>
    </form>

    <div class="col-12 table-container">

        <table class="table table-hover">
            <thead>
                <tr>
                
                    @if (tipoOrden == "entrada") {
                        <th scope="col">Fecha de Entrada</th>
                        <th scope="col">Punto Llegada</th>
                        <th scope="col">Proveedor</th>
                  }@else {
                        <th scope="col">Fecha Salida</th>
                        <th scope="col">Destino</th>
                  }

                  <th scope="col">Usuario</th>
                  <th scope="col">observacion</th>
                  <th scope="col">Detalle</th>
                </tr>
            </thead>
    
            <tbody>
                @if (tipoOrden == "entrada" && tipoOrden) {
                
                    @for (i of itemsEntrada; track i) {
                        <tr>
                            <td>{{i.fechaEntrada}}</td>
                            <td>{{i.puntoLlegada}}</td>
                            <td>{{i.proveedor.nombre}}</td>
                            <td>{{i.usuario.nombre + " " + i.usuario.apellidoPaterno + " " + i.usuario.apellidoMaterno}}</td>
                            <td>{{i.observacion}}</td>
                            <td><button class="btn btn-success" (click)="verDetalle(i.id)">Ver Detalle</button></td>
                        </tr>
                    }

                }@else {
                    @for (i of itemsSalida; track i) {
                        <tr>
                            <td>{{i.fechaSalida}}</td>
                            <td>{{i.destino}}</td>
                            <td>{{i.usuario.nombre + " " + i.usuario.apellidoPaterno + " " + i.usuario.apellidoMaterno}}</td>
                            <td>{{i.observacion}}</td>
                            <td><button class="btn btn-success" (click)="verDetalle(i.id)">Ver Detalle</button></td>
                        </tr>
                    }
                }

            </tbody>
        </table>
    </div>
</div>

